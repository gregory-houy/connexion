<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Page d'accueil</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <div class="content">
        <h1>Bienvenue sur la page d'accueil !</h1>
        <p>Contenu protégé (simulé).</p>
        <button id="logoutBtn">Se déconnecter</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const storedUsername = localStorage.getItem('username');
            const storedPassword = localStorage.getItem('password');
            const logoutBtn = document.getElementById('logoutBtn');

            function askForCredentials() {
                const enteredUsername = prompt('Nom d\'utilisateur requis :');
                if (enteredUsername === null) {
                    window.location.href = 'index.html';
                    return false;
                }
                const enteredPassword = prompt('Mot de passe requis :');
                if (enteredPassword === null) {
                    window.location.href = 'index.html';
                    return false;
                }

                if (enteredUsername.toLowerCase() === 'gregory' && enteredPassword === 'houy') {
                    localStorage.setItem('username', enteredUsername);
                    localStorage.setItem('password', enteredPassword);
                    return true;
                } else {
                    alert('Identifiants incorrects. Vous allez être redirigé vers la page de connexion.');
                    window.location.href = 'index.html';
                    return false;
                }
            }

            if (!storedUsername || !storedPassword) {
                askForCredentials();
            }

            if (logoutBtn) {
                logoutBtn.addEventListener('click', function() {
                    localStorage.removeItem('username');
                    localStorage.removeItem('password');
                    alert('Vous êtes déconnecté. Vous allez être redirigé vers la page de connexion.');
                    window.location.href = 'index.html';
                });
            }
        });
    </script>
</body>
</html>